import{r as o,G as l,j as V,c as k,a as e,k as B,b as P,w as m,v as p,I as r,l as q,t as N,d as S,n as U,o as C,e as M,f as z}from"./index-UL2W14HF.js";const A={class:"flex justify-center max-h-fit"},L={class:"p-8 rounded-lg shadow-lg w-full max-w-md"},T=e("h2",{class:"text-xl font-semibold text-center text-slate-100"}," Be part of this community ",-1),$=e("h2",{class:"text-2xl font-semibold text-center text-slate-100 mb-6"},"Sign Up",-1),j={class:"mb-4"},D=e("label",{for:"name",class:"block text-sm font-medium text-slate-100"},"Name",-1),I={class:"mb-4"},R=e("label",{for:"email",class:"block text-sm font-medium text-slate-100"},"Email",-1),F={class:"mb-4"},G=e("label",{for:"password",class:"block text-sm font-medium text-slate-100"},"Password",-1),Y={class:"mt-2 text-sm"},Z=e("p",{class:"text-slate-100"},"Your Password must contain:",-1),H={class:"mb-4"},J=e("label",{for:"Confirm_password",class:"block text-sm font-medium text-slate-100"},"Confirm Password",-1),K={key:0,class:"mt-4 text-center text-sm text-red-600"},O={key:1,class:"mt-4 text-center text-sm text-green-600"},Q=e("div",{class:"mt-6 text-center"},[e("p",{class:"text-sm text-gray-600"},[U(" Already have an account? "),e("a",{href:"/login",class:"text-yellow-500 hover:underline"},"Login")])],-1),ee={__name:"user_register",setup(W){const v=o(""),x=o(""),s=o(""),_=o(""),i=o(""),d=o(""),h=l(()=>s.value.length>=8),f=l(()=>/[A-Z]/.test(s.value)),w=l(()=>/[a-z]/.test(s.value)),g=l(()=>/[0-9]/.test(s.value)),b=l(()=>/[!@#$%^&*(),.?":{}|<>]/.test(s.value)),y=l(()=>h.value&&f.value&&w.value&&g.value&&b.value&&s.value===_.value),E=async()=>{var t,u;if(!y.value)return;const c=M.get("accessToken");try{const n=await z.post("https://api-db-dbxo.onrender.com/api/register",{name:v.value,email:x.value,password:s.value},{headers:{Authorization:`Bearer ${c}`}});d.value=n.data.message,i.value="",window.location.href="/login"}catch(n){i.value=((u=(t=n.response)==null?void 0:t.data)==null?void 0:u.error)||"Registration failed",d.value=""}};return(c,t)=>{const u=V("Separator"),n=V("Btn");return C(),k("div",A,[e("div",L,[T,$,B(u),e("form",{onSubmit:P(E,["prevent"])},[e("div",j,[D,m(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>v.value=a),required:"",class:"input",placeholder:"Enter your name"},null,512),[[p,v.value]])]),e("div",I,[R,m(e("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=a=>x.value=a),required:"",class:"input",placeholder:"Enter your email"},null,512),[[p,x.value]])]),e("div",F,[G,m(e("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=a=>s.value=a),onInput:t[3]||(t[3]=(...a)=>c.validatePassword&&c.validatePassword(...a)),required:"",class:"input",placeholder:"Enter your password"},null,544),[[p,s.value]]),e("div",Y,[Z,e("p",{class:r({"text-green-500":h.value,"text-red-500":!h.value})}," 8 characters ",2),e("p",{class:r({"text-green-500":f.value,"text-red-500":!f.value})}," 1 uppercase ",2),e("p",{class:r({"text-green-500":w.value,"text-red-500":!w.value})}," 1 lowercase ",2),e("p",{class:r({"text-green-500":g.value,"text-red-500":!g.value})}," 1 number ",2),e("p",{class:r({"text-green-500":b.value,"text-red-500":!b.value})}," 1 special character ",2)])]),e("div",H,[J,m(e("input",{type:"password",id:"Confirm_password","onUpdate:modelValue":t[4]||(t[4]=a=>_.value=a),required:"",class:"input",placeholder:"Confirm your password"},null,512),[[p,_.value]])]),B(n,{disabled:!y.value,variant:"primary",class:r(["w-1/4",{"opacity-50 cursor-not-allowed":!y.value}])},{default:q(()=>[U("Register")]),_:1},8,["disabled","class"])],32),i.value?(C(),k("p",K,N(i.value),1)):S("",!0),d.value?(C(),k("p",O,N(d.value),1)):S("",!0),Q])])}}};export{ee as default};
