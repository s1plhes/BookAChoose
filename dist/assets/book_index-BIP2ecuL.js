import{r as c,g as x,j as h,c as a,k as l,l as i,u as m,a as e,t as s,m as g,n as d,F as p,h as b,f as v,o,H as y,q as B,s as $,x as w}from"./index-UL2W14HF.js";const E=e("meta",{name:"robots",content:"index,follow"},null,-1),S={class:"px-6 max-w-6xl mx-auto"},C={class:"text-slate-100"},N={class:"text-2xl font-bold mb-4 text-white text-start"},j={class:"flex mb-2"},F={key:1,class:"text-slate-100 text-xl"},V={key:0,class:"flex justify-center"},H={class:"text-red-500"},L={key:1,class:"flex justify-center items-center mx-auto"},M={class:"grid place-content-center grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1"},D={__name:"book_index",setup(T){const u=c([]),n=c(""),f=c(0);return x(async()=>{try{const{data:t}=await v.get("https://api-db-dbxo.onrender.com/api/books");u.value=t,f.value=t.length}catch(t){console.error("Error fetching books:",t),n.value=`Error fetching books: ${t.message}`}}),(t,z)=>{const k=h("Separator"),_=h("Btn");return o(),a(p,null,[l(m(y),null,{default:i(()=>[e("title",null,s(t.$t("books.title"))+" | "+s(t.SITE_NAME),1),E]),_:1}),e("div",S,[e("div",C,[e("h1",N,s(t.$t("books.title")),1),e("h2",null,s(t.$t("books.subtitle")),1)]),l(k),e("div",j,[m(B)?(o(),g(_,{key:0,variant:"primary",href:"/book/create"},{default:i(()=>[d(s(t.$t("books.createBtn")),1)]),_:1})):(o(),a("p",F,[l(_,{class:"text-xl",href:"/register"},{default:i(()=>[d(s(t.$t("account.register")),1)]),_:1}),d(" "+s(t.$t("books.signUpLabel"))+". ",1)]))]),n.value?(o(),a("div",V,[e("p",H,s(n.value),1)])):(o(),a("div",L,[e("div",M,[(o(!0),a(p,null,b(u.value,r=>(o(),a("div",{key:r.id,class:"p-1"},[l(w,{book:r,style:$(`${r.image}`)},null,8,["book","style"])]))),128))])]))])],64)}}};export{D as default};
